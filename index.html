<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>留守資訊系統</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- 登入介面 -->
    <div id="login-section" class="login-section">
        <div class="login-container">
            <div class="login-card">
                <h1 class="login-title">留守資訊系統</h1>
                <form id="login-form" class="login-form">
                    <div class="form-group">
                        <label for="username">帳號：</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">密碼：</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">登入</button>
                </form>
                <div class="login-info">
                    <p>預設帳號：admin</p>
                    <p>預設密碼：123456</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 主系統介面 -->
    <div id="main-section" class="main-section" style="display: none;">
        <!-- 頂部導航 -->
        <header class="main-header">
            <div class="header-content">
                <div class="header-left">
                    <div class="time-display">
                        <div class="time-label">現在時間</div>
                        <div class="current-time" id="current-time">10:20:54</div>
                    </div>
                </div>
                <div class="header-center">
                    <h1 class="system-title">留守資訊系統</h1>
                </div>
                <div class="header-right">
                    <div class="user-info">
                        <span class="user-greeting">嗨, admin</span>
                    </div>
                    <div class="header-buttons">
                        <button class="header-btn active" onclick="showSection('care')">卹滿照護</button>
                        <button class="header-btn" onclick="toggleTheme()">切換主題</button>
                        <button class="header-btn logout-btn" onclick="logout()">登出</button>
                    </div>
                </div>
            </div>
        </header>

        <!-- 主要內容區域 -->
        <main class="main-content">
            <!-- 卹滿照護區域 -->
            <section id="care" class="care-section">
                <div class="care-container">
                    <div class="care-header">
                        <h2>卹滿照護</h2>
                    </div>
                    
                    <!-- 篩選和搜尋區域 -->
                    <div class="filter-search-area">
                        <div class="filter-controls">
                            <div class="filter-group">
                                <label for="year-select">年份</label>
                                <select id="year-select" class="form-select">
                                    <option value="">請選擇年份</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="month-select">月份</label>
                                <select id="month-select" class="form-select">
                                    <option value="">請選擇月份</option>
                                </select>
                            </div>
                            <div class="search-group">
                                <input type="text" id="search-input" class="search-input" placeholder="搜尋姓名/個案號碼">
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-success" onclick="showAddPersonForm()">新增人員</button>
                            <button class="btn btn-export" onclick="exportCSV()">匯出本月 CSV</button>
                            <button class="btn btn-export-orange" onclick="exportPDF()">匯出 PDF</button>
                            <button class="btn btn-check" onclick="checkPhotos()">檢查照片</button>
                        </div>
                    </div>
                    
                    <!-- 資料顯示區域 -->
                    <div class="data-display-area">
                        <div id="data-content" class="data-content">
                            <p class="no-data-message">目前沒有資料</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 新增人員模態框 -->
    <div id="add-person-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>新增人員</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <form id="add-person-form" class="modal-form">
                <!-- 基本資料區塊 -->
                <div class="form-section">
                    <div class="section-header">
                        <span class="section-icon">👤</span>
                        <h4>基本資料</h4>
                    </div>
                    <div class="form-group">
                        <label for="person-name">姓名 *</label>
                        <input type="text" id="person-name" name="name" placeholder="請輸入姓名" required>
                    </div>
                    <div class="form-group">
                        <label for="person-phone">電話 *</label>
                        <input type="tel" id="person-phone" name="phone" placeholder="請輸入電話號碼" required>
                    </div>
                    <div class="form-group">
                        <label for="person-address">地址 *</label>
                        <textarea id="person-address" name="address" rows="3" placeholder="請輸入完整地址" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="person-case-number">編號 *</label>
                        <input type="text" id="person-case-number" name="caseNumber" placeholder="請輸入郵令號碼" required>
                    </div>
                    <div class="form-group">
                        <label for="person-month">月份 *</label>
                        <select id="person-month" name="month" required>
                            <option value="">請選擇月份</option>
                            <option value="01">1月</option>
                            <option value="02">2月</option>
                            <option value="03">3月</option>
                            <option value="04">4月</option>
                            <option value="05">5月</option>
                            <option value="06">6月</option>
                            <option value="07">7月</option>
                            <option value="08">8月</option>
                            <option value="09">9月</option>
                            <option value="10">10月</option>
                            <option value="11">11月</option>
                            <option value="12">12月</option>
                        </select>
                    </div>
                </div>

                <!-- 備註與照片區塊 -->
                <div class="form-section">
                    <div class="section-header">
                        <span class="section-icon">💬</span>
                        <h4>備註與照片</h4>
                    </div>
                    <div class="form-group">
                        <label for="person-memo">備註</label>
                        <textarea id="person-memo" name="memo" rows="3" placeholder="請輸入備註資訊 (選填)"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="person-photo">照片 (可多選)</label>
                        <div class="file-upload-area">
                            <input type="file" id="person-photo" name="photo" accept="image/*" multiple>
                            <div class="file-upload-content">
                                <span class="file-upload-text">沒有選擇檔案</span>
                            </div>
                        </div>
                        <div class="file-info">
                            <span class="info-icon">ℹ️</span>
                            <span>支援 JPG、PNG、GIF 格式，可選擇多張照片</span>
                        </div>
                        <div id="photo-preview" class="photo-preview"></div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">新增人員</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">返回列表</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
